(this["webpackJsonpphoto-app"]=this["webpackJsonpphoto-app"]||[]).push([[4],{110:function(e,t,a){},111:function(e,t,a){},135:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(3),r=a(23),c=a(122),i=(a(99),function(e){var t=e.title,a=e.backgroundUrl,n=a?{backgroundImage:"url(".concat(a,")")}:{};return o.a.createElement("section",{className:"banner",style:n},o.a.createElement("h1",{className:"banner__title"},t))});i.defaultProps={title:"",backgroundUrl:""};var u=i,m=a(120),s=a(41),d=a(42),p=a(43),h=a(129),E=a(130),b=a(58),f=a(125),v=a(126),g=a(127),C=a(128),O=function(e){var t=e.field,a=e.form,n=e.type,l=e.label,r=e.placeholder,c=e.disabled,i=t.name,u=t.value,m=t.onChange,s=t.onBlur,d=a.errors,p=a.touched,h=d[i]&&p[i];return o.a.createElement("div",null,o.a.createElement(f.a,null,l&&o.a.createElement(v.a,{for:i},l),o.a.createElement(g.a,{id:i,type:n,name:i,value:u,onChange:m,onBlur:s,disabled:c,placeholder:r,invalid:h}),o.a.createElement(b.a,{name:i,component:C.a})))};O.defaultProps={type:"text",label:"",placeholder:"",disabled:!1};var k=O,P=a(121),y=function(e){var t=e.field,a=e.form,n=e.label,l=e.placeholder,r=e.disabled,c=e.options,i=t.name,u=t.value,m=a.errors,s=a.touched,d=m[i]&&s[i],p=c.find((function(e){return e.value===u}));return o.a.createElement(f.a,null,n&&o.a.createElement(v.a,{for:i},n),o.a.createElement(P.a,Object.assign({id:i},t,{value:p,onChange:function(e){var a=e?e.value:e,n={target:{name:i,value:a}};t.onChange(n)},isDisabled:r,placeholder:l,options:c,className:d?"is-invalid":""})),o.a.createElement(b.a,{name:i,component:C.a}))};y.defaultProps={label:"",placeholder:"",disabled:!1,options:[]};var j=y,N=[{value:1,label:"Technology"},{value:2,label:"Animals"},{value:3,label:"Nature"},{value:4,label:"Education"},{value:5,label:"Styles"},{value:6,label:"Vehicle"},{value:7,label:"Street"},{value:8,label:"Food"}],I=a(107),S=a.n(I),T=a(109),R=(a(110),function(){var e=Math.trunc(2e3*Math.random());return"https://picsum.photos/id/".concat(e,"/300/200")}),U=function(e){var t=e.name,a=e.imageUrl,n=e.onImageUrlChange,l=e.onRandomButtonBlur,r=function(){var e=Object(T.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n&&(t=R(),n(t));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return o.a.createElement(d.a,{className:"random-photo"},o.a.createElement(p.a,{md:3,className:"random-photo__button text-center mb-4"},o.a.createElement(h.a,{type:"button",outline:!0,name:t,color:"success",onBlur:l,onClick:r},"Random a photo")),o.a.createElement(p.a,{md:9,className:"random-photo__photo text-center p-0"},a&&o.a.createElement("img",{src:a,alt:"Ooops ... not found. Please click button again",onError:r})))};U.defaultProps={name:"",imageUrl:"",onImageUrlChange:null,onRandomButtonBlur:null};var x=U,B=function(e){var t=e.field,a=e.form,n=e.label,l=t.name,r=t.value,c=t.onBlur,i=a.errors,u=a.touched,m=i[l]&&u[l];return o.a.createElement(o.a.Fragment,null,n&&o.a.createElement(v.a,{for:l},n),o.a.createElement(x,{name:l,imageUrl:r,onImageUrlChange:function(e){a.setFieldValue(l,e)},onRandomButtonBlur:c,invalid:!0}),o.a.createElement("div",{className:m?"is-invalid":""}),o.a.createElement(b.a,{name:l,component:C.a}))};B.defaultProps={label:""};var w=B,_=a(94),q=(a(88),a(13)),A=function(e){var t=e.initialValues,a=e.isAddMode,n=m.b().shape({title:m.c().required("Title is required."),categoryId:m.a().required("Category is required").nullable(),photo:m.c().when("categoryId",{is:1,then:m.c().required("Photo is required."),otherwise:m.c().notRequired()})});_.a.configure({autoClose:3e3,draggable:!1,position:_.a.POSITION.TOP_RIGHT});var l=function(e){return setTimeout((function(){a?_.a.success("Add photo successful !"):_.a.success("Update photo successful !")}),1500)};return o.a.createElement(b.d,{initialValues:t,validationSchema:n,onSubmit:e.onSubmit},(function(e){var t=e.values,n=e.errors,r=e.touched,c=e.isSubmitting;return console.log({values:t,errors:n,touched:r}),o.a.createElement("div",null,o.a.createElement(s.a,null,o.a.createElement(b.c,null,o.a.createElement(d.a,{form:!0},o.a.createElement(p.a,{md:6},o.a.createElement(b.b,{name:"title",component:k,label:"Title",placeholder:"Enter a title"})),o.a.createElement(p.a,{md:6},o.a.createElement(b.b,{name:"categoryId",component:j,label:"Category",options:N,placeholder:"What is your photo category ?"}))),o.a.createElement(b.b,{name:"photo",component:w,label:"Photo"}),o.a.createElement(d.a,null,o.a.createElement(p.a,{className:"text-center mt-5"},o.a.createElement(q.b,{to:"/photos",className:"mr-3"},o.a.createElement(h.a,null,"Cancel")),o.a.createElement(h.a,{type:"submit",color:"info",onClick:l},c&&o.a.createElement(E.a,{size:"sm"})," ",a?"Add to album":"Update your photo"))))))}))};A.defaultProps={onSubmit:null};var M=A,V=a(20),D=a(21),F=function(){var e=Object(D.b)(),t=Object(l.g)(),a=Object(l.h)().photoId,n=!a,r=Object(D.c)((function(e){return e.photos.find((function(e){return e.id===parseInt(a)}))})),i=n?{title:"",categoryId:null,photo:""}:r;return o.a.createElement("div",null,o.a.createElement(u,{title:"Pick your a photo",backgroundUrl:"https://i.pinimg.com/originals/8e/69/23/8e69231a11e5786ce274a1243e0e04b4.jpg"}),o.a.createElement(M,{isAddMode:n,onSubmit:function(a){return new Promise((function(o){setTimeout((function(){if(n){var l=Object(c.a)({},a,{id:Math.trunc(9999*Math.random())}),r=Object(V.a)(l);e(r)}else{var i=Object(V.d)(a);e(i)}t.push("/photos"),o(!0)}),1e3)}))},initialValues:i}))},L=(a(111),a(93)),z=a(134),G=a(136),H=a(131),J=a(132),W=a(133),Y=function(e){var t=Object(n.useState)(!1),a=Object(L.a)(t,2),l=a[0],r=a[1],c=e.id,i=e.onPhotoRemoveClick,u=function(){return r(!l)};_.a.configure({autoClose:3e3,draggable:!1,position:_.a.POSITION.TOP_RIGHT});return o.a.createElement("div",null,o.a.createElement(h.a,{outline:!0,color:"danger",onClick:u},"Delete"),o.a.createElement(G.a,{isOpen:l,toggle:u},o.a.createElement(H.a,{toggle:u},"Delete photo"),o.a.createElement(J.a,null,"Are you sure ?"),o.a.createElement(W.a,null,o.a.createElement(h.a,{color:"secondary",onClick:u},"Cancel"),o.a.createElement(h.a,{color:"danger",onClick:function(){i(c),u(),setTimeout((function(){_.a.success("Delete photo successful !")}),500)}},"Confirm"))))},K=function(e){var t=Object(n.useState)(6),a=Object(L.a)(t,2),l=a[0],r=a[1],c=Object(n.useState)(!1),i=Object(L.a)(c,2),u=i[0],m=i[1],s=e.photos,d=e.onPhotoEditClick,b=e.onPhotoRemoveClick;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"photo-list"},s.slice(0,l).map((function(e,t){return o.a.createElement("div",{className:"photo-item",key:t},o.a.createElement(p.a,null," ",o.a.createElement("img",{src:e.photo,alt:e.title}),o.a.createElement("div",{className:"overlay"},o.a.createElement("div",{className:"text"},e.title),o.a.createElement(z.a,null,o.a.createElement(h.a,{className:"mr-3",outline:!0,color:"info",onClick:function(){return d(e.id)}},"Edit"),o.a.createElement(Y,{id:e.id,onPhotoRemoveClick:b})))))}))),l>=s.length?"":o.a.createElement(h.a,{className:"mt-4",onClick:function(){m(!0),setTimeout((function(){r(l+6),m(!1)}),600)}},u&&o.a.createElement(E.a,{size:"sm"})," ",u?"Loading...":"Load more"))};K.defaultProps={photoList:[],onPhotoEditClick:null,onPhotoRemoveClick:null};var Q=K,X=function(){var e=Object(D.c)((function(e){return e.photos})),t=Object(D.b)(),a=Object(l.g)();return o.a.createElement("div",null,o.a.createElement(u,{title:"Your awesome photos "}),o.a.createElement(s.a,{className:"text-center"},o.a.createElement(q.b,{to:"photos/add"},o.a.createElement(h.a,{color:"success"},"Add new photo ")),o.a.createElement(Q,{photos:e,onPhotoEditClick:function(e){a.push("/photos/".concat(e))},onPhotoRemoveClick:function(e){var a=Object(V.c)(e);t(a)}})))};t.default=function(e){var t=Object(l.i)();return console.log({match:t}),o.a.createElement("div",null,o.a.createElement(l.d,null,o.a.createElement(l.b,{exact:!0,path:t.url,component:X}),o.a.createElement(l.b,{exact:!0,path:"".concat(t.url,"/add"),component:F}),o.a.createElement(l.b,{exact:!0,path:"".concat(t.url,"/:photoId"),component:F}),o.a.createElement(l.b,{component:r.a})))}},99:function(e,t,a){}}]);
//# sourceMappingURL=4.2ed41699.chunk.js.map